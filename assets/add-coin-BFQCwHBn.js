import{r,j as e,k as W,l as R,m as k,n as X,o as H,p as ee,q as v,s as ne,I as te,t as B,f as Q,e as se,a as ae,B as j}from"./index-neaKrv17.js";import{b as ie,d as oe,C as re,f as M,c as ce}from"./utils-BD3ftINz.js";import{u as le}from"./useCoin-D5sR4cEl.js";import{C as p}from"./copy-BBgQ6HQZ.js";import"./fetch-Cb1DhwTR.js";function de(n,t=[]){let s=[];function a(c,o){const A=r.createContext(o),u=s.length;s=[...s,o];const l=d=>{var g;const{scope:f,children:h,...C}=d,I=((g=f==null?void 0:f[n])==null?void 0:g[u])||A,x=r.useMemo(()=>C,Object.values(C));return e.jsx(I.Provider,{value:x,children:h})};l.displayName=c+"Provider";function m(d,f){var I;const h=((I=f==null?void 0:f[n])==null?void 0:I[u])||A,C=r.useContext(h);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${c}\``)}return[l,m]}const i=()=>{const c=s.map(o=>r.createContext(o));return function(A){const u=(A==null?void 0:A[n])||c;return r.useMemo(()=>({[`__scope${n}`]:{...A,[n]:u}}),[A,u])}};return i.scopeName=n,[a,Ae(i,...t)]}function Ae(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const a=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const o=a.reduce((A,{useScope:u,scopeName:l})=>{const d=u(c)[`__scope${l}`];return{...A,...d}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function ue(n,t){return r.useReducer((s,a)=>t[s][a]??s,n)}var T=n=>{const{present:t,children:s}=n,a=me(t),i=typeof s=="function"?s({present:a.isPresent}):r.Children.only(s),c=W(a.ref,ge(i));return typeof s=="function"||a.isPresent?r.cloneElement(i,{ref:c}):null};T.displayName="Presence";function me(n){const[t,s]=r.useState(),a=r.useRef({}),i=r.useRef(n),c=r.useRef("none"),o=n?"mounted":"unmounted",[A,u]=ue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const l=N(a.current);c.current=A==="mounted"?l:"none"},[A]),R(()=>{const l=a.current,m=i.current;if(m!==n){const f=c.current,h=N(l);n?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(m&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),R(()=>{if(t){let l;const m=t.ownerDocument.defaultView??window,d=h=>{const I=N(a.current).includes(h.animationName);if(h.target===t&&I&&(u("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",l=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=h=>{h.target===t&&(c.current=N(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{m.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:r.useCallback(l=>{l&&(a.current=getComputedStyle(l)),s(l)},[])}}function N(n){return(n==null?void 0:n.animationName)||"none"}function ge(n){var a,i;let t=(a=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var y="Tabs",[fe,Be]=de(y,[k]),S=k(),[he,w]=fe(y),G=r.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:c,orientation:o="horizontal",dir:A,activationMode:u="automatic",...l}=n,m=X(A),[d,f]=H({prop:a,onChange:i,defaultProp:c});return e.jsx(he,{scope:s,baseId:ee(),value:d,onValueChange:f,orientation:o,dir:m,activationMode:u,children:e.jsx(v.div,{dir:m,"data-orientation":o,...l,ref:t})})});G.displayName=y;var P="TabsList",_=r.forwardRef((n,t)=>{const{__scopeTabs:s,loop:a=!0,...i}=n,c=w(P,s),o=S(s);return e.jsx(ne,{asChild:!0,...o,orientation:c.orientation,dir:c.dir,loop:a,children:e.jsx(v.div,{role:"tablist","aria-orientation":c.orientation,...i,ref:t})})});_.displayName=P;var Z="TabsTrigger",O=r.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...c}=n,o=w(Z,s),A=S(s),u=U(o.baseId,a),l=$(o.baseId,a),m=a===o.value;return e.jsx(te,{asChild:!0,...A,focusable:!i,active:m,children:e.jsx(v.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":l,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...c,ref:t,onMouseDown:B(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(a):d.preventDefault()}),onKeyDown:B(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(a)}),onFocus:B(n.onFocus,()=>{const d=o.activationMode!=="manual";!m&&!i&&d&&o.onValueChange(a)})})})});O.displayName=Z;var L="TabsContent",F=r.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,forceMount:i,children:c,...o}=n,A=w(L,s),u=U(A.baseId,a),l=$(A.baseId,a),m=a===A.value,d=r.useRef(m);return r.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(T,{present:i||m,children:({present:f})=>e.jsx(v.div,{"data-state":m?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...o,ref:t,style:{...n.style,animationDuration:d.current?"0s":void 0},children:f&&c})})});F.displayName=L;function U(n,t){return`${n}-trigger-${t}`}function $(n,t){return`${n}-content-${t}`}var Ce=G,D=_,V=O,z=F;const Ie=Ce,J=r.forwardRef(({className:n,...t},s)=>e.jsx(D,{ref:s,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t}));J.displayName=D.displayName;const q=r.forwardRef(({className:n,...t},s)=>e.jsx(V,{ref:s,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...t}));q.displayName=V.displayName;const b=r.forwardRef(({className:n,...t},s)=>e.jsx(z,{ref:s,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));b.displayName=z.displayName;const xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEUCAYAAACLaOs7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPuSURBVHhe7dkxrhwhEEBBYO5/4xlwsF5L3vR7/ZKqsCF+asE855wBEFifA4D/RYCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABmXXO+ZwBfN05Z6y99+cc4Ov23gIENPberzeg+74/zwC+5t2ctdYaz/OM53k+7wD8c+/erLVeAbqua9z3bRMCvurdmeu6xlprzPPy1xb0PlzLLz3wM3vvsff+qy/XdY055ytA4/eX2Pvi3nucc4YveuCn5pxjzvlnqVlrjTnnGGOMXwZ5YbobgMXNAAAAAElFTkSuQmCC",be=()=>{const{toast:n}=se(),[t,s]=r.useState("mb"),a=r.useRef(!1),{userInfo:i}=ae(),{acbData:c,mbData:o,getACBBank:A,getMBBank:u,isLoadingACB:l,isLoadingMB:m,isErrorACB:d,isErrorMB:f}=le();r.useEffect(()=>{(async()=>{if(!a.current){a.current=!0;try{await u()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}}})()},[]);const h=async g=>{s(g);try{g==="acb"&&!c?await A():g==="mb"&&!o&&await u()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}},C=(g,E)=>{navigator.clipboard.writeText(g),n({title:"Đã sao chép",description:`Đã sao chép ${E} vào clipboard`})},I=(g,E,K)=>E||!g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):K?e.jsx("div",{className:"flex items-center justify-center py-12 text-red-500",children:"Đã có lỗi xảy ra khi tải thông tin ngân hàng"}):e.jsxs("div",{className:"flex justify-between gap-4 flex-col md:flex-row",children:[e.jsx("div",{className:"flex justify-center w-full ",children:e.jsx("div",{className:"relative bg-white p-4 rounded-lg shadow-sm",children:e.jsx("img",{src:g.src,alt:"QR Code",className:"w-64 h-64 object-contain",onError:Y=>{Y.currentTarget.src=xe}})})}),e.jsx("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Tên tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:g.accinfo.name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(g.accinfo.name,"tên tài khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Số tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:g.accinfo.acc_num}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(g.accinfo.acc_num,"số tài khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ngân hàng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:g.accinfo.bank_name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(g.accinfo.bank_name,"tên ngân hàng"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Nội dung chuyển khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-primary",children:g.comment}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(g.comment,"nội dung chuyển khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]})]})})]}),x=t==="acb"?c:o;return e.jsx("div",{className:"container mx-auto max-w-4xl py-8",children:e.jsxs(ie,{className:"shadow-md",children:[e.jsxs(oe,{className:"space-y-1",children:[e.jsx(re,{className:"text-2xl font-bold",children:"Nạp coin"}),e.jsx(M,{children:"Quét mã QR hoặc chuyển khoản theo thông tin bên dưới để nạp coin"}),e.jsx(M,{className:"text-red-600",children:"Tỉ lệ chuyển đổi 10,000 VND = 1,000 coin"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:["Bạn đang nạp coin cho tài khoản ",e.jsx("span",{className:"text-red-500",children:i==null?void 0:i.UserName})]}),e.jsxs(Ie,{defaultValue:"mb",className:"w-full",onValueChange:h,children:[e.jsx(J,{className:"grid w-full grid-cols-2",children:e.jsx(q,{value:"mb",children:"MB Bank"})}),e.jsx(b,{value:"acb",className:"mt-6",children:I(c,l,d)}),e.jsx(b,{value:"mb",className:"mt-6",children:I(o,m,f)})]}),e.jsxs("div",{className:"space-y-3 bg-orange-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-orange-800",children:"Lưu ý quan trọng:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-orange-700",children:[e.jsx("li",{children:"Vui lòng chuyển khoản đúng nội dung để được cộng coin tự động"}),e.jsx("li",{children:"Thời gian xử lý từ 1-5 phút sau khi giao dịch thành công"}),e.jsxs("li",{children:["Nếu quá 5 phút chưa nhận được coin, vui lòng liên hệ với chúng tôi qua ",e.jsx("a",{href:"https://www.facebook.com/easygunvn?mibextid=ZbWKwL",target:"_blank",className:"underline",children:"Facebook Fanpage"})," hoặc ",e.jsx("a",{href:"https://zalo.me/g/krydyc014",target:"_blank",className:"underline",children:"Zalo"})]})]})]}),x&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx(j,{className:"w-full",variant:"outline",onClick:()=>{const g=`Ngân hàng: ${x.accinfo.bank_name}
Số tài khoản: ${x.accinfo.acc_num}
Tên: ${x.accinfo.name}
Nội dung: ${x.comment}`;C(g,"toàn bộ thông tin")},children:"Sao chép toàn bộ thông tin"})})]})]})})};export{be as default};
