import{u,j as s,B as g,d as j}from"./index-Jy15e44j.js";import{o as f,s as a,a as w,t as b,u as y,F,b as t,c as i,d as m,e as c,I as d,g as S,f as l}from"./use-alert-CspnK7IU.js";import{a as k,e as P}from"./fetch-CYzFsFq2.js";import{C as E}from"./card-B65dTjfi.js";function T(){const{executePost:e,isLoading:o,isError:h}=k(P.register());return{register:async x=>{try{return await e(x)}catch{throw new Error("error")}},isLoading:o,isError:h}}const L=f({username:a().min(2,{message:"Username phải có ít nhất 2 ký tự"}),email:a().email({message:"Vui lòng nhập địa chỉ Email."}),password:a().min(6,{message:"Password phải có ít nhất 6 ký tự."}),confirmPassword:a()}).refine(e=>e.password===e.confirmPassword,{message:"Mật khẩu không chính xác",path:["confirmPassword"]}),N=()=>{const e=w({resolver:b(L),defaultValues:{username:"",email:"",password:"",confirmPassword:""}}),o=y(),h=u(),{register:p}=T(),x=async r=>{try{const n=await p({username:r.username,password:r.password,repassword:r.confirmPassword,email:r.email});if(n!=null&&n.success){o.success("Thành công",n==null?void 0:n.message),h(j.LOGIN);return}o.error("Lỗi",n==null?void 0:n.message)}catch{o.error("Lỗi","Đăng ký không thành công. Vui lòng thử lại!")}};return s.jsx(F,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(x),className:"space-y-8 w-full rounded-lg border bg-card text-card-foreground shadow-md p-8 bg-[#1b1e2b] border-color-[#495070]",children:[s.jsx(E,{children:"Đăng ký"}),s.jsx(t,{control:e.control,name:"username",render:({field:r})=>s.jsxs(i,{children:[s.jsx(m,{children:"Username"}),s.jsx(c,{children:s.jsx(d,{placeholder:"easygun",...r})}),s.jsx(S,{children:"Tên hiển thị trên hệ thống."}),s.jsx(l,{})]})}),s.jsx(t,{control:e.control,name:"email",render:({field:r})=>s.jsxs(i,{children:[s.jsx(m,{children:"Email"}),s.jsx(c,{children:s.jsx(d,{type:"email",placeholder:"easygun@example.com",...r})}),s.jsx(l,{})]})}),s.jsx(t,{control:e.control,name:"password",render:({field:r})=>s.jsxs(i,{children:[s.jsx(m,{children:"Mật khẩu"}),s.jsx(c,{children:s.jsx(d,{type:"password",...r})}),s.jsx(l,{})]})}),s.jsx(t,{control:e.control,name:"confirmPassword",render:({field:r})=>s.jsxs(i,{children:[s.jsx(m,{children:"Nhập lại mật khẩu"}),s.jsx(c,{children:s.jsx(d,{type:"password",...r})}),s.jsx(l,{})]})}),s.jsx(g,{type:"submit",disabled:e.formState.isSubmitting,children:e.formState.isSubmitting?"Đang xử lý...":"Đăng Ký"})]})})},R=()=>s.jsx("div",{className:"flex md:min-w-[500px] md:max-w-[600px] px-[12px] mx-auto mt-[10vh]",children:s.jsx(N,{})});export{R as default};
