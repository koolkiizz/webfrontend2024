import{h as W,r as o,j as e,i as X,k as R,l as k,m as H,n as ee,o as ne,p as v,q as te,I as se,s as B,e as y,d as ae,a as ie,B as j}from"./index-CjpOuGVO.js";import{b as re,d as oe,C as ce,g as M,c as le}from"./fetch-C4znh0O9.js";import{u as de}from"./useCoin-cVRNNVz6.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function Ae(n,t=[]){let s=[];function a(c,r){const A=o.createContext(r),u=s.length;s=[...s,r];const l=d=>{var m;const{scope:f,children:h,...C}=d,I=((m=f==null?void 0:f[n])==null?void 0:m[u])||A,x=o.useMemo(()=>C,Object.values(C));return e.jsx(I.Provider,{value:x,children:h})};l.displayName=c+"Provider";function g(d,f){var I;const h=((I=f==null?void 0:f[n])==null?void 0:I[u])||A,C=o.useContext(h);if(C)return C;if(r!==void 0)return r;throw new Error(`\`${d}\` must be used within \`${c}\``)}return[l,g]}const i=()=>{const c=s.map(r=>o.createContext(r));return function(A){const u=(A==null?void 0:A[n])||c;return o.useMemo(()=>({[`__scope${n}`]:{...A,[n]:u}}),[A,u])}};return i.scopeName=n,[a,ue(i,...t)]}function ue(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const a=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const r=a.reduce((A,{useScope:u,scopeName:l})=>{const d=u(c)[`__scope${l}`];return{...A,...d}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}function ge(n,t){return o.useReducer((s,a)=>t[s][a]??s,n)}var T=n=>{const{present:t,children:s}=n,a=me(t),i=typeof s=="function"?s({present:a.isPresent}):o.Children.only(s),c=X(a.ref,fe(i));return typeof s=="function"||a.isPresent?o.cloneElement(i,{ref:c}):null};T.displayName="Presence";function me(n){const[t,s]=o.useState(),a=o.useRef({}),i=o.useRef(n),c=o.useRef("none"),r=n?"mounted":"unmounted",[A,u]=ge(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const l=N(a.current);c.current=A==="mounted"?l:"none"},[A]),R(()=>{const l=a.current,g=i.current;if(g!==n){const f=c.current,h=N(l);n?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(g&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),R(()=>{if(t){let l;const g=t.ownerDocument.defaultView??window,d=h=>{const I=N(a.current).includes(h.animationName);if(h.target===t&&I&&(u("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",l=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=h=>{h.target===t&&(c.current=N(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{g.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:o.useCallback(l=>{l&&(a.current=getComputedStyle(l)),s(l)},[])}}function N(n){return(n==null?void 0:n.animationName)||"none"}function fe(n){var a,i;let t=(a=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var Q="Tabs",[he,ve]=Ae(Q,[k]),S=k(),[Ce,w]=he(Q),G=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:c,orientation:r="horizontal",dir:A,activationMode:u="automatic",...l}=n,g=H(A),[d,f]=ee({prop:a,onChange:i,defaultProp:c});return e.jsx(Ce,{scope:s,baseId:ne(),value:d,onValueChange:f,orientation:r,dir:g,activationMode:u,children:e.jsx(v.div,{dir:g,"data-orientation":r,...l,ref:t})})});G.displayName=Q;var P="TabsList",_=o.forwardRef((n,t)=>{const{__scopeTabs:s,loop:a=!0,...i}=n,c=w(P,s),r=S(s);return e.jsx(te,{asChild:!0,...r,orientation:c.orientation,dir:c.dir,loop:a,children:e.jsx(v.div,{role:"tablist","aria-orientation":c.orientation,...i,ref:t})})});_.displayName=P;var Z="TabsTrigger",O=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...c}=n,r=w(Z,s),A=S(s),u=U(r.baseId,a),l=$(r.baseId,a),g=a===r.value;return e.jsx(se,{asChild:!0,...A,focusable:!i,active:g,children:e.jsx(v.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":l,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...c,ref:t,onMouseDown:B(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?r.onValueChange(a):d.preventDefault()}),onKeyDown:B(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&r.onValueChange(a)}),onFocus:B(n.onFocus,()=>{const d=r.activationMode!=="manual";!g&&!i&&d&&r.onValueChange(a)})})})});O.displayName=Z;var L="TabsContent",F=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,forceMount:i,children:c,...r}=n,A=w(L,s),u=U(A.baseId,a),l=$(A.baseId,a),g=a===A.value,d=o.useRef(g);return o.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(T,{present:i||g,children:({present:f})=>e.jsx(v.div,{"data-state":g?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...r,ref:t,style:{...n.style,animationDuration:d.current?"0s":void 0},children:f&&c})})});F.displayName=L;function U(n,t){return`${n}-trigger-${t}`}function $(n,t){return`${n}-content-${t}`}var Ie=G,V=_,D=O,z=F;const xe=Ie,J=o.forwardRef(({className:n,...t},s)=>e.jsx(V,{ref:s,className:y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t}));J.displayName=V.displayName;const q=o.forwardRef(({className:n,...t},s)=>e.jsx(D,{ref:s,className:y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...t}));q.displayName=D.displayName;const b=o.forwardRef(({className:n,...t},s)=>e.jsx(z,{ref:s,className:y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));b.displayName=z.displayName;const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAEUCAYAAACLaOs7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPuSURBVHhe7dkxrhwhEEBBYO5/4xlwsF5L3vR7/ZKqsCF+asE855wBEFifA4D/RYCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABGQECMgIEZAQIyAgQkBEgICNAQEaAgIwAARkBAjICBGQECMgIEJARICAjQEBGgICMAAEZAQIyAgRkBAjICBCQESAgI0BARoCAjAABmXXO+ZwBfN05Z6y99+cc4Ov23gIENPberzeg+74/zwC+5t2ctdYaz/OM53k+7wD8c+/erLVeAbqua9z3bRMCvurdmeu6xlprzPPy1xb0PlzLLz3wM3vvsff+qy/XdY055ytA4/eX2Pvi3nucc4YveuCn5pxjzvlnqVlrjTnnGGOMXwZ5YbobgMXNAAAAAElFTkSuQmCC",Be=()=>{const{toast:n}=ae(),[t,s]=o.useState("mb"),a=o.useRef(!1),{userInfo:i}=ie(),{acbData:c,mbData:r,getACBBank:A,getMBBank:u,isLoadingACB:l,isLoadingMB:g,isErrorACB:d,isErrorMB:f}=de();o.useEffect(()=>{(async()=>{if(!a.current){a.current=!0;try{await u()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}}})()},[]);const h=async m=>{s(m);try{m==="acb"&&!c?await A():m==="mb"&&!r&&await u()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}},C=(m,E)=>{navigator.clipboard.writeText(m),n({title:"Đã sao chép",description:`Đã sao chép ${E} vào clipboard`})},I=(m,E,K)=>E||!m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):K?e.jsx("div",{className:"flex items-center justify-center py-12 text-red-500",children:"Đã có lỗi xảy ra khi tải thông tin ngân hàng"}):e.jsxs("div",{className:"flex justify-between gap-4 flex-col md:flex-row",children:[e.jsx("div",{className:"flex justify-center w-full ",children:e.jsx("div",{className:"relative bg-white p-4 rounded-lg shadow-sm",children:e.jsx("img",{src:m.src,alt:"QR Code",className:"w-64 h-64 object-contain",onError:Y=>{Y.currentTarget.src=Ee}})})}),e.jsx("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Tên tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:m.accinfo.name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(m.accinfo.name,"tên tài khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Số tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:m.accinfo.acc_num}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(m.accinfo.acc_num,"số tài khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ngân hàng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:m.accinfo.bank_name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(m.accinfo.bank_name,"tên ngân hàng"),children:e.jsx(p,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Nội dung chuyển khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-primary",children:m.comment}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>C(m.comment,"nội dung chuyển khoản"),children:e.jsx(p,{className:"h-4 w-4"})})]})]})]})})]}),x=t==="acb"?c:r;return e.jsx("div",{className:"container mx-auto max-w-4xl py-8",children:e.jsxs(re,{className:"shadow-md",children:[e.jsxs(oe,{className:"space-y-1",children:[e.jsx(ce,{className:"text-2xl font-bold",children:"Nạp coin"}),e.jsx(M,{children:"Quét mã QR hoặc chuyển khoản theo thông tin bên dưới để nạp coin"}),e.jsx(M,{className:"text-red-600",children:"Tỉ lệ chuyển đổi 10,000 VND = 1,000 coin"})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:["Bạn đang nạp coin cho tài khoản ",e.jsx("span",{className:"text-red-500",children:i==null?void 0:i.UserName})]}),e.jsxs(xe,{defaultValue:"mb",className:"w-full",onValueChange:h,children:[e.jsx(J,{className:"grid w-full grid-cols-2",children:e.jsx(q,{value:"mb",children:"MB Bank"})}),e.jsx(b,{value:"acb",className:"mt-6",children:I(c,l,d)}),e.jsx(b,{value:"mb",className:"mt-6",children:I(r,g,f)})]}),e.jsxs("div",{className:"space-y-3 bg-orange-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-orange-800",children:"Lưu ý quan trọng:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-orange-700",children:[e.jsx("li",{children:"Vui lòng chuyển khoản đúng nội dung để được cộng coin tự động"}),e.jsx("li",{children:"Thời gian xử lý từ 1-5 phút sau khi giao dịch thành công"}),e.jsxs("li",{children:["Nếu quá 5 phút chưa nhận được coin, vui lòng liên hệ với chúng tôi qua ",e.jsx("a",{href:"https://www.facebook.com/easygunvn?mibextid=ZbWKwL",target:"_blank",className:"underline",children:"Facebook Fanpage"})," hoặc ",e.jsx("a",{href:"https://zalo.me/g/krydyc014",target:"_blank",className:"underline",children:"Zalo"})]})]})]}),x&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx(j,{className:"w-full",variant:"outline",onClick:()=>{const m=`Ngân hàng: ${x.accinfo.bank_name}
Số tài khoản: ${x.accinfo.acc_num}
Tên: ${x.accinfo.name}
Nội dung: ${x.comment}`;C(m,"toàn bộ thông tin")},children:"Sao chép toàn bộ thông tin"})})]})]})})};export{Be as default};
