import{r as n}from"./index-BlDCMIEc.js";import{u as R,e as i}from"./fetch-D2vO8f79.js";const h=(t,o=!0)=>{const[e,r]=n.useState(void 0),[s,f]=n.useState(void 0),c=n.useRef(!1),{executePost:d,isLoading:E}=R(t||""),l=n.useCallback(async D=>{if(t)try{const a=await d(D);if(a!=null&&a.success)return r(a.data),f(void 0),a.data;{const u=new Error((a==null?void 0:a.message)||"Failed to fetch data");throw f(u),r(void 0),u}}catch(a){const u=a instanceof Error?a:new Error("Failed to fetch data");throw f(u),r(void 0),u}},[t,d]);return n.useEffect(()=>{o&&t&&!c.current&&(c.current=!0,l().catch(D=>{console.error("Error fetching data:",D)}))},[o,t,l]),{data:e,isLoading:E,error:s,fetchData:l}};function L(t=!0){const{data:o,isLoading:e,error:r,fetchData:s}=h(i.servers(),t);return{serverData:o,isLoading:e,error:r,refetch:s}}function P(t,o=!1){const e=n.useRef(t),{data:r,isLoading:s,error:f,fetchData:c}=h(t?i.transferRate():void 0,o);return n.useEffect(()=>{t&&t!==e.current&&(e.current=t,c({serverid:t}))},[t,c]),{transferRateData:r,isLoading:s,error:f,refetch:()=>t?c({serverid:t}):Promise.resolve()}}function w(t,o=!1){const e=n.useRef(t),{data:r,isLoading:s,error:f,fetchData:c}=h(t?i.players():void 0,o);return n.useEffect(()=>{t&&t!==e.current&&(e.current=t,c({server_id:t}))},[t,c]),{playerData:r,isLoading:s,error:f,refetch:()=>t?c({server_id:t}):Promise.resolve()}}function y(t=!0){const{data:o,isLoading:e,error:r,fetchData:s}=h(i.coinInfo(),t);return{coinData:o,isLoading:e,error:r,refetch:s}}export{w as a,P as b,y as c,L as u};
