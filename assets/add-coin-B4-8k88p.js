import{p as J,r as o,j as e,u as X,s as I,t as E,v as Y,b as ee,w as ne,P as C,x as te,I as se,d as T,h as M,k as ae,l as ie,B as j}from"./index-MIm1qYam.js";import{a as re,c as oe,C as ce,f as _,b as le}from"./fetch-CYDVXz-L.js";import{u as de}from"./useCoin-ioAJj89J.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function ue(n,t=[]){let s=[];function a(c,r){const l=o.createContext(r),m=s.length;s=[...s,r];const d=u=>{var h;const{scope:g,children:x,...p}=u,v=((h=g==null?void 0:g[n])==null?void 0:h[m])||l,N=o.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:N,children:x})};d.displayName=c+"Provider";function f(u,g){var v;const x=((v=g==null?void 0:g[n])==null?void 0:v[m])||l,p=o.useContext(x);if(p)return p;if(r!==void 0)return r;throw new Error(`\`${u}\` must be used within \`${c}\``)}return[d,f]}const i=()=>{const c=s.map(r=>o.createContext(r));return function(l){const m=(l==null?void 0:l[n])||c;return o.useMemo(()=>({[`__scope${n}`]:{...l,[n]:m}}),[l,m])}};return i.scopeName=n,[a,me(i,...t)]}function me(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const a=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const r=a.reduce((l,{useScope:m,scopeName:d})=>{const u=m(c)[`__scope${d}`];return{...l,...u}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}function fe(n,t){return o.useReducer((s,a)=>t[s][a]??s,n)}var P=n=>{const{present:t,children:s}=n,a=he(t),i=typeof s=="function"?s({present:a.isPresent}):o.Children.only(s),c=X(a.ref,ge(i));return typeof s=="function"||a.isPresent?o.cloneElement(i,{ref:c}):null};P.displayName="Presence";function he(n){const[t,s]=o.useState(),a=o.useRef({}),i=o.useRef(n),c=o.useRef("none"),r=n?"mounted":"unmounted",[l,m]=fe(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=w(a.current);c.current=l==="mounted"?d:"none"},[l]),I(()=>{const d=a.current,f=i.current;if(f!==n){const g=c.current,x=w(d);n?m("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?m("UNMOUNT"):m(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,m]),I(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,u=x=>{const v=w(a.current).includes(x.animationName);if(x.target===t&&v&&(m("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=x=>{x.target===t&&(c.current=w(a.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:o.useCallback(d=>{d&&(a.current=getComputedStyle(d)),s(d)},[])}}function w(n){return(n==null?void 0:n.animationName)||"none"}function ge(n){var a,i;let t=(a=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var R="Tabs",[xe,we]=ue(R,[E]),B=E(),[pe,S]=xe(R),L=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:c,orientation:r="horizontal",dir:l,activationMode:m="automatic",...d}=n,f=Y(l),[u,g]=ee({prop:a,onChange:i,defaultProp:c});return e.jsx(pe,{scope:s,baseId:ne(),value:u,onValueChange:g,orientation:r,dir:f,activationMode:m,children:e.jsx(C.div,{dir:f,"data-orientation":r,...d,ref:t})})});L.displayName=R;var O="TabsList",$=o.forwardRef((n,t)=>{const{__scopeTabs:s,loop:a=!0,...i}=n,c=S(O,s),r=B(s);return e.jsx(te,{asChild:!0,...r,orientation:c.orientation,dir:c.dir,loop:a,children:e.jsx(C.div,{role:"tablist","aria-orientation":c.orientation,...i,ref:t})})});$.displayName=O;var F="TabsTrigger",V=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...c}=n,r=S(F,s),l=B(s),m=z(r.baseId,a),d=G(r.baseId,a),f=a===r.value;return e.jsx(se,{asChild:!0,...l,focusable:!i,active:f,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...c,ref:t,onMouseDown:T(n.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?r.onValueChange(a):u.preventDefault()}),onKeyDown:T(n.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&r.onValueChange(a)}),onFocus:T(n.onFocus,()=>{const u=r.activationMode!=="manual";!f&&!i&&u&&r.onValueChange(a)})})})});V.displayName=F;var D="TabsContent",U=o.forwardRef((n,t)=>{const{__scopeTabs:s,value:a,forceMount:i,children:c,...r}=n,l=S(D,s),m=z(l.baseId,a),d=G(l.baseId,a),f=a===l.value,u=o.useRef(f);return o.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(P,{present:i||f,children:({present:g})=>e.jsx(C.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!g,id:d,tabIndex:0,...r,ref:t,style:{...n.style,animationDuration:u.current?"0s":void 0},children:g&&c})})});U.displayName=D;function z(n,t){return`${n}-trigger-${t}`}function G(n,t){return`${n}-content-${t}`}var ve=L,W=$,K=V,q=U;const Ne=ve,Q=o.forwardRef(({className:n,...t},s)=>e.jsx(W,{ref:s,className:M("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t}));Q.displayName=W.displayName;const A=o.forwardRef(({className:n,...t},s)=>e.jsx(K,{ref:s,className:M("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...t}));A.displayName=K.displayName;const k=o.forwardRef(({className:n,...t},s)=>e.jsx(q,{ref:s,className:M("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));k.displayName=q.displayName;const Ce=()=>{const{toast:n}=ae(),[t,s]=o.useState("acb"),a=o.useRef(!1),{userInfo:i}=ie(),{acbData:c,mbData:r,getACBBank:l,getMBBank:m,isLoadingACB:d,isLoadingMB:f,isErrorACB:u,isErrorMB:g}=de();o.useEffect(()=>{(async()=>{if(!a.current){a.current=!0;try{await l()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}}})()},[]);const x=async h=>{s(h);try{h==="acb"&&!c?await l():h==="mb"&&!r&&await m()}catch{n({variant:"destructive",title:"Lỗi",description:"Không thể tải thông tin ngân hàng"})}},p=(h,b)=>{navigator.clipboard.writeText(h),n({title:"Đã sao chép",description:`Đã sao chép ${b} vào clipboard`})},v=(h,b,H)=>b||!h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):H?e.jsx("div",{className:"flex items-center justify-center py-12 text-red-500",children:"Đã có lỗi xảy ra khi tải thông tin ngân hàng"}):e.jsxs("div",{className:"flex justify-between gap-4 flex-col md:flex-row",children:[e.jsx("div",{className:"flex justify-center w-full ",children:e.jsx("div",{className:"relative bg-white p-4 rounded-lg shadow-sm",children:e.jsx("img",{src:h.src,alt:"QR Code",className:"w-64 h-64 object-contain",onError:Z=>{Z.currentTarget.src="/fallback-qr.png"}})})}),e.jsx("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Tên tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:h.accinfo.name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>p(h.accinfo.name,"tên tài khoản"),children:e.jsx(y,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Số tài khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:h.accinfo.acc_num}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>p(h.accinfo.acc_num,"số tài khoản"),children:e.jsx(y,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Ngân hàng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:h.accinfo.bank_name}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>p(h.accinfo.bank_name,"tên ngân hàng"),children:e.jsx(y,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Nội dung chuyển khoản"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-primary",children:h.comment}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>p(h.comment,"nội dung chuyển khoản"),children:e.jsx(y,{className:"h-4 w-4"})})]})]})]})})]}),N=t==="acb"?c:r;return e.jsx("div",{className:"container mx-auto max-w-4xl py-8",children:e.jsxs(re,{className:"shadow-md",children:[e.jsxs(oe,{className:"space-y-1",children:[e.jsx(ce,{className:"text-2xl font-bold",children:"Nạp coin"}),e.jsx(_,{children:"Quét mã QR hoặc chuyển khoản theo thông tin bên dưới để nạp coin"}),e.jsx(_,{className:"text-red-600",children:"Tỉ lệ chuyển đổi 10,000 VND = 1,000 coin"})]}),e.jsxs(le,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-muted/50 p-6 rounded-lg w-full",children:["Bạn đang nạp coin cho tài khoản ",e.jsx("span",{className:"text-red-500",children:i==null?void 0:i.UserName})]}),e.jsxs(Ne,{defaultValue:"acb",className:"w-full",onValueChange:x,children:[e.jsxs(Q,{className:"grid w-full grid-cols-2",children:[e.jsx(A,{value:"acb",children:"ACB Bank"}),e.jsx(A,{value:"mb",children:"MB Bank"})]}),e.jsx(k,{value:"acb",className:"mt-6",children:v(c,d,u)}),e.jsx(k,{value:"mb",className:"mt-6",children:v(r,f,g)})]}),e.jsxs("div",{className:"space-y-3 bg-orange-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-orange-800",children:"Lưu ý quan trọng:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-orange-700",children:[e.jsx("li",{children:"Vui lòng chuyển khoản đúng nội dung để được cộng coin tự động"}),e.jsx("li",{children:"Thời gian xử lý từ 1-5 phút sau khi giao dịch thành công"}),e.jsxs("li",{children:["Nếu quá 5 phút chưa nhận được coin, vui lòng liên hệ với chúng tôi qua ",e.jsx("a",{href:"https://www.facebook.com/easygunvn?mibextid=ZbWKwL",target:"_blank",className:"underline",children:"Facebook Fanpage"})," hoặc ",e.jsx("a",{href:"https://zalo.me/g/krydyc014",target:"_blank",className:"underline",children:"Zalo"})]})]})]}),N&&e.jsx("div",{className:"pt-4 border-t",children:e.jsx(j,{className:"w-full",variant:"outline",onClick:()=>{const h=`Ngân hàng: ${N.accinfo.bank_name}
Số tài khoản: ${N.accinfo.acc_num}
Tên: ${N.accinfo.name}
Nội dung: ${N.comment}`;p(h,"toàn bộ thông tin")},children:"Sao chép toàn bộ thông tin"})})]})]})})};export{Ce as default};
